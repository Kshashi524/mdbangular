<div class="container-fluid">
  <div>
    <blockquote class="blockquote border-left border-info mb-5">
      <span class="red-text pr-2">combineAll</span> will transform nested observables to flat single observables.
      <p class="mb-0">This is achieved by completing the outer Observable and starting the inner Observable</p>
      <p class="mb-0">In the below example, we have a random outer Observable which will emit a random value and
        complete</p>
      <p class="mb-0">That will kick off 3 inner Observables. If there are more than one, <span class="red-text pr-2">combineLatest</span>
        will be applied.</p>
      <p class="mb-0">Clicking on
        <button class="my-0 waves-light" color="default" mdbBtn mdbWavesEffect rounded="true" size="sm">Complete
        </button>
        will finish the respective inner Observable
      </p>
    </blockquote>
  </div>
  <div class="mt-5">
    <div class="row">
      <div class="col-4">
        <div class="md-form">
          <form class="form-inline md-form mr-auto mb-4">
            <input [ngModel]="stream1" class="form-control mr-sm-2" disabled id="stream1" mdbInput name="stream1"
                   type="number">
            <label for="stream1">Stream 1</label>
            <mdb-success *ngIf="runStream1">Emits every 2 seconds</mdb-success>
            <mdb-error *ngIf="!runStream1">Stream 1 completed</mdb-error>
            <button (click)="runStream1=false" class="my-0 waves-light" color="primary" mdbBtn mdbWavesEffect
                    rounded="true" size="sm">Complete
            </button>
          </form>
        </div>
      </div>
      <div class="col-4">
        <div class="md-form">
          <form class="form-inline md-form mr-auto mb-4">
            <input [ngModel]="stream2" class="form-control mr-sm-2" disabled id="stream2" mdbInput name="stream2"
                   type="number">
            <label for="stream2">Stream 2</label>
            <mdb-success *ngIf="runStream2">Emits every 4 seconds</mdb-success>
            <mdb-error *ngIf="!runStream2">Stream 2 completed</mdb-error>
            <button (click)="runStream2=false" class="my-0 waves-light" color="secondary" mdbBtn mdbWavesEffect
                    rounded="true" size="sm">Complete
            </button>
          </form>
        </div>
      </div>
      <div class="col-4">
        <div class="md-form">
          <form class="form-inline md-form mr-auto mb-4">
            <input [ngModel]="stream3" class="form-control mr-sm-2" disabled id="stream3" mdbInput name="stream3"
                   type="number">
            <label for="stream3">Stream 3</label>
            <mdb-success *ngIf="runStream3">Emits every 6 seconds</mdb-success>
            <mdb-error *ngIf="!runStream3">Stream 3 completed</mdb-error>
            <button (click)="runStream3=false" class="my-0 waves-light" color="warning" mdbBtn mdbWavesEffect
                    rounded="true" size="sm">Complete
            </button>
          </form>
        </div>
      </div>
    </div>
    <div class="row">
      <div *ngIf="combineAll$ | async as combineAll" class="md-form">
        <p>Combining above streams with {{randomNumber}}</p>
        <p>Stream 1 --> {{stream1}} + {{randomNumber}} = {{combineAll[0]}}</p>
        <p>Stream 2 --> {{stream2}} + {{randomNumber}} = {{combineAll[1]}}</p>
        <p>Stream 3 --> {{stream3}} + {{randomNumber}} = {{combineAll[2]}}</p>
      </div>
    </div>
  </div>
</div>
